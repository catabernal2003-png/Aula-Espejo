{% extends "base.html" %}
{% block content %}
<div class="container mt-5">
    <h2 class="text-center mb-4">Entrenar Modelo de √âxito</h2>

    <p class="text-center text-muted">
        Este proceso entrenar√° el modelo <b>Logistic Regression multinomial</b> usando el archivo
        <code>data/success_training.csv</code>.
    </p>

    <div class="text-center mt-4">
        <button id="train-btn" class="btn btn-primary btn-lg">
            üöÄ Entrenar Modelo
        </button>
    </div>

    <div id="output" class="mt-4 text-center"></div>
</div>

<script>
document.getElementById("train-btn").addEventListener("click", async () => {
    const output = document.getElementById("output");
    output.innerHTML = "<p>‚è≥ Entrenando modelo... por favor espera...</p>";

    try {
        const response = await fetch("/train_success_model", {
            method: "POST",
        });
        const data = await response.json();
        if (data.success) {
            output.innerHTML = `<p class='text-success fw-bold'>‚úÖ Modelo entrenado exitosamente.<br>Ruta: ${data.model_path}</p>`;
        } else {
            output.innerHTML = `<p class='text-danger fw-bold'>‚ùå Error: ${data.error}</p>`;
        }
    } catch (err) {
        output.innerHTML = `<p class='text-danger fw-bold'>‚ö†Ô∏è Error inesperado: ${err}</p>`;
    }
});
</script>
{% endblock %}
