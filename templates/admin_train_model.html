{% extends "base.html" %}

{% block content %}
<div class="page-wrapper py-5">
    <div class="container d-flex justify-content-center">

        <!-- Card centrada -->
        <div class="card shadow-lg p-5 text-center" style="max-width: 600px; border-radius: 1rem;">
            
            <!-- T√≠tulo -->
            <h2 class="fw-bold mb-3">Entrenar Modelo de √âxito</h2>
            
            <!-- Descripci√≥n -->
            <p class="text-muted mb-4">
                Este proceso entrenar√° el modelo <b>Logistic Regression multinomial</b> usando el archivo
                <code>data/success_training.csv</code>.
            </p>
            
            <!-- Bot√≥n -->
            <button id="train-btn" class="btn btn-primary btn-lg px-4 py-2 fw-semibold">
                üöÄ Entrenar Modelo
            </button>

            <!-- Salida / Mensajes -->
            <div id="output" class="mt-4"></div>

        </div>
    </div>
</div>

<style>
    .page-wrapper {
    min-height: 80vh;
    display: flex;
    align-items: center;
}

.card {
    background: #ffffff;
    transition: transform 0.2s, box-shadow 0.2s;
}

.card:hover {
    transform: translateY(-5px);
    box-shadow: 0 12px 24px rgba(0, 0, 0, 0.15);
}

#train-btn {
    font-size: 1.1rem;
    transition: transform 0.2s, box-shadow 0.2s;
}

#train-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
}

</style>
<script>
document.getElementById("train-btn").addEventListener("click", async () => {
    const output = document.getElementById("output");
    output.innerHTML = "<p>‚è≥ Entrenando modelo... por favor espera...</p>";

    try {
        const response = await fetch("/train_success_model", {
            method: "POST",
        });
        const data = await response.json();
        if (data.success) {
            output.innerHTML = `<p class='text-success fw-bold'>‚úÖ Modelo entrenado exitosamente.<br>Ruta: ${data.model_path}</p>`;
        } else {
            output.innerHTML = `<p class='text-danger fw-bold'>‚ùå Error: ${data.error}</p>`;
        }
    } catch (err) {
        output.innerHTML = `<p class='text-danger fw-bold'>‚ö†Ô∏è Error inesperado: ${err}</p>`;
    }
});
</script>
{% endblock %}
